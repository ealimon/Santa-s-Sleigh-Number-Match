<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa's Sleigh Number Match (Large Display)</title>
    <style>
        /* --- CORE CSS STYLING --- */
        body {
            font-family: 'Arial', sans-serif; 
            margin: 0;
            background-color: #f0f8ff; 
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        h1 {
            color: #dc143c; 
            text-align: center;
            text-shadow: 2px 2px 0 #fff;
        }

        #game-container {
            max-width: 1200px;
            width: 100%;
            padding: 25px;
            background-color: #ffffff;
            border-radius: 25px; 
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); 
            border: 6px solid #006400; 
        }

        #target-area {
            display: flex;
            justify-content: space-around;
            margin-bottom: 40px;
            border-bottom: 3px solid #dc143c; 
            padding-bottom: 20px;
        }

        .match-target {
            width: 170px;
            padding: 15px 10px;
            background-color: #a52a2a; 
            border: 5px solid #8b0000; 
            border-radius: 10px;
            text-align: center;
            min-height: 250px;
            transition: transform 0.1s;
        }

        .match-target.drag-over {
            background-color: #ffd700; 
            transform: scale(1.05);
        }

        .target-numeral {
            font-size: 3.5em;
            font-weight: bold;
            color: #fff;
            margin-bottom: 15px;
        }

        #draggable-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            min-height: 200px;
        }

        .draggable-card {
            cursor: grab;
            padding: 10px;
            border-radius: 15px;
            box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);
            font-size: 1.5em;
            font-weight: bold;
            width: 150px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-sizing: border-box;
        }
        
        .card-word {
            background-color: #dc143c; 
            color: #fff;
            border: 3px solid #ffd700;
        }

        .card-ten-frame {
            background-color: #fffacd; 
            border: 3px dashed #006400; 
        }

        /* --- ENLARGED 10-FRAME DOT STYLING --- */
        .ten-frame-container { 
            display: flex; 
            justify-content: center;
            align-items: center;
        }
        .ten-frame-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 6px; /* Increased gap */
            width: 110px; /* Increased total width */
            height: 50px; /* Increased total height */
            background: rgba(255,255,255,0.7);
            border: 2px solid #ccc;
            padding: 4px;
            border-radius: 5px;
        }
        .dot { 
            width: 14px; /* Much larger dots */
            height: 14px; 
            background: #eee; 
            border-radius: 50%; 
            border: 1px solid #ccc;
        }
        .dot.filled { 
            background: #8b4513; /* Chocolate chip */
            border-color: #5d2e0d;
        }

        .match-card {
            background: #e6ffe6;
            margin: 6px 0;
            padding: 6px;
            border-radius: 5px;
            border: 1px solid #006400;
            display: flex;
            justify-content: center;
        }

        /* Adjusting matched 10-frame size so it fits in chimney */
        .match-card .ten-frame-grid {
            width: 80px; 
            height: 35px;
            gap: 3px;
        }
        .match-card .dot {
            width: 10px;
            height: 10px;
        }

        #feedback { text-align: center; margin-top: 15px; font-weight: bold; font-size: 1.3em; color: #dc143c; }

        #congrats-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); color: white; display: none;
            justify-content: center; align-items: center; z-index: 100;
        }
        #congrats-box { background: #006400; padding: 40px; border-radius: 20px; text-align: center; border: 5px solid #ffd700; }
    </style>
</head>
<body>

    <div id="game-container">
        <h1>üéÖ Santa Sleigh Match (Set <span id="current-set-display">1</span>)</h1>
        <p style="text-align: center;">Match the **Gifts** and **Cookies** to the **Chimneys**!</p>

        <div id="target-area"></div>
        <div id="draggable-area"></div>
        <div id="feedback"></div>
    </div>

    <div id="congrats-overlay">
        <div id="congrats-box">
            <h2 id="congrats-title">üéÑ Great Job! üéÅ</h2>
            <p id="congrats-message"></p>
            <button id="next-set-button" style="padding: 10px 20px; font-size: 1.2em; cursor: pointer; border-radius: 10px;">Next Set</button>
        </div>
    </div>

    <script>
        const ALL_NUMBERS = [
            [{ num: 1, word: "One" }, { num: 2, word: "Two" }, { num: 3, word: "Three" }, { num: 4, word: "Four" }, { num: 5, word: "Five" }],
            [{ num: 6, word: "Six" }, { num: 7, word: "Seven" }, { num: 8, word: "Eight" }, { num: 9, word: "Nine" }, { num: 10, word: "Ten" }]
        ];

        let currentSetIndex = 0; 
        let matchesFoundInSet = 0;
        
        const targetArea = document.getElementById('target-area');
        const draggableArea = document.getElementById('draggable-area');
        const congratsOverlay = document.getElementById('congrats-overlay');
        const nextSetButton = document.getElementById('next-set-button');

        function createTenFrameHTML(number) {
            let dotsHTML = '';
            for (let i = 1; i <= 10; i++) {
                dotsHTML += `<span class="dot ${i <= number ? 'filled' : ''}"></span>`;
            }
            return `<div class="ten-frame-container"><div class="ten-frame-grid">${dotsHTML}</div></div>`;
        }

        function setupGame(setIndex) {
            const currentSetData = ALL_NUMBERS[setIndex];
            matchesFoundInSet = 0;
            targetArea.innerHTML = '';
            draggableArea.innerHTML = '';
            document.getElementById('feedback').textContent = '';
            document.getElementById('current-set-display').textContent = setIndex + 1;

            const allDraggables = [];

            currentSetData.forEach(data => {
                const target = document.createElement('div');
                target.className = 'match-target';
                target.setAttribute('data-number', data.num);
                target.innerHTML = `<div class="target-numeral">${data.num}</div>`;
                target.addEventListener('dragover', e => e.preventDefault());
                target.addEventListener('drop', handleDrop);
                targetArea.appendChild(target);

                allDraggables.push({ type: 'gift', num: data.num, html: data.word, class: 'card-word' });
                allDraggables.push({ type: 'cookie', num: data.num, html: createTenFrameHTML(data.num), class: 'card-ten-frame' });
            });

            allDraggables.sort(() => Math.random() - 0.5);
            allDraggables.forEach(item => {
                const card = document.createElement('div');
                card.className = `draggable-card ${item.class}`;
                card.setAttribute('draggable', true);
                card.setAttribute('data-number', item.num);
                card.setAttribute('data-type', item.type);
                card.innerHTML = item.html;
                card.addEventListener('dragstart', e => {
                    e.dataTransfer.setData('num', item.num);
                    e.dataTransfer.setData('type', item.type);
                    card.id = 'dragging';
                });
                draggableArea.appendChild(card);
            });
        }

        function handleDrop(e) {
            e.preventDefault();
            const target = e.currentTarget;
            const targetNum = target.getAttribute('data-number');
            const dragNum = e.dataTransfer.getData('num');
            const dragType = e.dataTransfer.getData('type');
            const card = document.getElementById('dragging');

            if (targetNum === dragNum) {
                const matchDiv = document.createElement('div');
                matchDiv.className = 'match-card';
                matchDiv.innerHTML = card.innerHTML;
                target.appendChild(matchDiv);
                card.remove();
                
                checkChimneyComplete(target);
            } else {
                document.getElementById('feedback').textContent = "‚ùå Not that one! Try again.";
                card.id = '';
            }
        }

        function checkChimneyComplete(target) {
            const matches = target.querySelectorAll('.match-card').length;
            if (matches === 2) {
                target.style.background = "#3cb371";
                target.style.borderColor = "#ffd700";
                matchesFoundInSet++;
                if (matchesFoundInSet === 5) showCongrats();
            }
        }

        function showCongrats() {
            congratsOverlay.style.display = 'flex';
            if (currentSetIndex === 0) {
                document.getElementById('congrats-message').textContent = "Set 1 is ready! On to numbers 6-10?";
                nextSetButton.style.display = 'inline-block';
            } else {
                document.getElementById('congrats-message').textContent = "Santa is ready for takeoff! Merry Christmas!";
                nextSetButton.style.display = 'none';
            }
        }

        nextSetButton.addEventListener('click', () => {
            currentSetIndex++;
            congratsOverlay.style.display = 'none';
            setupGame(currentSetIndex);
        });

        setupGame(0);
    </script>
</body>
</html>
